#!/bin/bash

# Test script for Box class
# Creates three Box objects with random dimensions and tests all methods

# Source the Box class
. Box
lst=()
echo "=== Box Class Test Script ==="
echo ""

# Function to generate random dimension (1-20)
ran_dim() {
  echo $((RANDOM % 10 + 1))
}

# Create three boxes with random dimensions
echo "Creating 3 Box objects with random dimensions..."
echo ""

for i in {1..3}; do l=$(ran_dim); w=$(ran_dim); h=$(ran_dim)
  
  echo "--- Box $i ---"
  echo "Dimensions: Length=$l, Width=$w, Height=$h"
  
  # Create the box object
  new Box length=$l width=$w height=$h; lst+=( $_Self )
  printf "%s is a %s\n" $_Self $($_Self.isa;)

  # Display all calculations
  echo "Top Area:    $($_Self.top)"
  echo "End Area:    $($_Self.end)"
  echo "Side Area:   $($_Self.side)"
  echo "Bottom Area: $($_Self.bottom)"
  echo "Volume:      $($_Self.volume)"
  echo ""
done
for o in "${lst[@]}"; do echo "$o volume: $($o.volume)"; done

echo "=== Test Complete ==="
